<div class="panel panel-{{ panel }}">
	<div class="panel-heading">
		<h3 class="panel-title">
			<i class="fa {{ icon }}"></i> {{ title }}
		</h3>
	</div>
	<div class="panel-body">
		<div class="flot-chart">
			<div class="flot-chart-content" id="{{ id }}"></div>
		</div>
	</div>
</div>
<script type="text/javascript">
$(document).ready(function() {
	var options = {
			series:{lines:{show:true},points:{show:true}},
            grid:{hoverable:true,
            	markings: function(axes) {
    				var markings = [];
    				var xaxis = axes.xaxis;
    				for (var x = Math.floor(xaxis.min); x < xaxis.max; x += xaxis.tickSize * 2) {
    					markings.push({ xaxis: { from: x, to: x + xaxis.tickSize }, color: "#f9f9f9" });
    				}
    				return markings;
    			}
            },
            xaxis:{ {% if xmin or xmin == 0 %}min:{{ xmin }},{% endif %}{% if xmax or xmax == 0 %}max:{{ xmax }},{% endif %}{% if xtick or xtick == 0 %}tickSize:{{ xtick }},tickFormatter:function(val, axis){return val | 0;}{% endif %}},
            yaxis:{ {% if ymin or ymin == 0 %}min:{{ ymin }},{% endif %}{% if ymax or ymax == 0 %}max:{{ ymax }},{% endif %}{% if ytick or ytick == 0 %}tickSize:{{ ytick }},tickFormatter:function(val, axis){return val | 0;}{% endif %}},
            tooltip:true,
            tooltipOpts:{content:"'%s' of %x is %y",shifts:{x:-60,y:25}}};
	{% for key, elem in datas.iteritems %}
	var {{ key }} = {
		label : "{{ elem.label }}",
		data : [{% for data in elem.data %} [ {% for d in data %}{{ d }}{% if not forloop.last %}, {% endif %}{% endfor %} ] {% if not forloop.last %},{% endif %}{% endfor %}]
	}{% endfor %}
	
	$.plot("#{{ id }}", [ {% for key in datas %}{{ key }}{% if not forloop.last %}, {% endif %}{% endfor %} ], options);
});
</script>